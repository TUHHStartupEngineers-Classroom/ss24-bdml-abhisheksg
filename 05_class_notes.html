<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #006a81;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #006a81;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #00C1D4;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3ce0ec438d6cbcbc7b361502e7bba082324b2370de969eb8bdb30afb0725869ea6187852dc9190293092b32b5f144edbd1f5dff728dcfa43ce4563bd4607b198d744b626bc1f1986579b49a9f5b1f16ebb0a9a33a1f4564985065a5e364ac9d02af94899ce846c68522e9246e8164d045af62a89c0ca99f230719ad5906aa8ca727de133f3f7406d92868874c7e3b996f6be92c9d8ed79cfaa7586986e6b2394a131103edff7ea3a3bafe1b27c6bf2e1ed5b938696879535122efd48a2e21238500730bacd4b02ca7ac9a96897e658cc4c8a99fb90d1cd9e523c4f1223887a915cef3ad8391d1994aaa0b20af52194b19ec4e6766e1e6a0b9370a883f48fc923e4126e834c7651fc537ee149e681f87bed8fc3f9188fa224abeed3340c5e22ed515cc6cddd1de17bc69c89223cf159d5f372f8348d97484ff3837bc35fe795cca508cb8d0494c7a9be1a6708e1809e449585e86b2f535b12a3192e6135c7c319b7dd29e5c4da17636b86515d84aa2e7a2055757af47165750523b30a2499295f521202d15506324fe7a62dc8196cb46c01de3acfed0ae59b6e058f41f51e7a99ae7ae91405e3c03220284ab807dbd2f1b6623b472209baf69068837641e96ed8c9b166a54718e7aef2afeeefa813c71f84037d7c530126486c3e73393b5a5a44978ca21b66b3410caadc0f9bc4d78d3ee77aed028dd471c551a2ed8bb14d92873df41a14e0650ff9edf2b6815fa9272628ec224f025ef6c05cb8f9298f0cf8a9663f4604e078796a807907b8285b7e3bf7fd47f3600c29c35dd46df561ce7365bb0aa99f83c0bdf1b0242c6d602288cd7cfb049f91e82dcb082cbc79dbcbe080de3449ad898d960dc25456e95af3d7470c9b037983ac99403e7ba0e96e21e60352ea99f5ca9a9765832cd112de58ff3b993a6796c8ac5f28abef277e1bd1a54a7b57a230854809028c7d3e4f8027e82345a0888f74314ce650f4a89b40b7f392ce9cd661910c6958b3faa6d3e3d86f727664979da99697fc234d147075278a662a90eb45d494b4ad2fa6c9b1373a8a257c7fcbb3bfc25bae571dd398cb5a31e8a0d1e53a2535430914d5d1ed30c62d4d65d3fa1b9d9a03b8fa32acc34e5b4287e811c2ca279bb33ec9f46d8d134d7b033849d3be0191c2777e456607ed6eadd3f26932ab9d175be8e48ea703a987feca8a3dbc0ea4b0b374b748beecd158ab71d8888dc66ee8793ef76bcccb822d7a234d4e7b6af131e0b41a8adde6313d74b6e788da06be340ca941c680f3fd17db51cca7a8f9c65c3cce0a8105a96dc77820f914faaa27b1b72a84ccd4f580d42b0bb3aa10f3b613b89659e989eb7e0225d6f9d2fa63dd39f6be01e7cab1c226fe5d250d261b270ea2af1ac4e53c4b9e7761a2fceb2476b9d2887afaec529ee6cb0755f8d0c2fe97c0e479bbe3cebdf9c8f08f282b149fb779d1605911c550cae330b6ebd0417c32059ebfb0ed48b0c8b93892e9305c63fc209e30563d8322a4e9c62b1f91ff5fb5b0f16f09487c9e7b7543ac72a8c12164e1eb3c1b2ead5e2e66a8609dea09e919b26f88ffd4a6868aca75ddb5534e0b277b65595a4b07349d57cfdacc3dd80979370297de1901d91ddd5637db92b2d15ea3d5b3022f980c374043c0285fa204a5e102dce43c188a0b8d96e0a3f5bfe782c26bd8d7f05a52ac73980ede2daccb6eb1dad25c028fff2a5bd69c326c446a6d00b14f55bccebae2cc3bab17f9775c377724007bbd149cfc804fa2a689725765a2f303d402da4a58bd047869609f4db5f79d852ee6f08b4fa280eec5e642b48f666e2e87a3a38f81af8414386957a6b487b70d156309f2bbdb32a766986538e7d14b6198bbeee65276dabf45d493d63186a8952444c717c76ba586a822209f8c80174d38c8495cc0fe97a35fc2155a0a08a4119bea54c2478c701856072efa7a5a2be351270b50c6d893cd79100403e03b3f1862cc9c18aaac54346499e90aeb13e516fbfcaf8275750436f304217aea708bc6cced7bd7d6ca17962d8659f6c985456be252c537fbe3196fd4224738e22832a3148c94036c69ea4c1650dcc631b1bfb055d52c434fdcfb370579e21b6b2dbb9bfae95e124dc6d43bb48a5c9d0b97a193d687f62fd0340ba6a4dd08b0a95f5f3d3227cc1572d3f9dcd4d7a48c88ca92b8319e3d3ae41de2562eb2a954f2f6a1591937268518745ecf31db447cce7121c18af639e11037bdfbcf6bf91a59b51fa7763a1c38e945bf3a7076ddc0311043425f3cd5220db7a99c8fcc8ddb40c13daf792bd3b848e55c5e930db77bed629e401cc7e21e77a8edf3c0db7536b6239b085047d86d60fa4cf232273f95e8b5825d8287a4a022e03a61ea370f44cccf08536f5c74a43a7ea1831990d5ab151cd7122b02edcc1265fbb4b0e6887879dd182daa4256a9605a1dd69c9a022af6ae0f5391e86c5b4ebd0112c3d6bfc284523716bd6672cb8fd1ec2412a9c2d1b9baf6ffed21cc280b31f95e06b30fa9b181a8d541b7e5477bfd852b038d8d366dfe25c5f8bd112588f18ad21e8cb41320a201fa05d06f1d43ad10e2b4aee50d00defff4df82f01d3d8c91d8966e42035da9f16da2ac71d823074bf3cf5dd29fa4b8cfd3941100112c0aa004a0ff21aa2e43bc30c555d741dc138b2b83a8b00dedfd6d4db0481dad98eca98ee3d6a439ba0620a0ab4de389b0cc0c73e04d4bb2e2e46757745670370704fcc674eda722f5c3b8a97b25e0dd8a4f8a4505755354d4e96f4b1ed1afdcb4864d7a3e5746dd8f70fa63e2e66c9a23299ee54bb0d3f00a0578ac04a1c70ca6672f8dfea729b64683431f392e9c89e00aaa8bfa18af0c949be0d7e72030cb4c3061903d478a8c8213bcb92a5ed0f8d07f0239dec146f295b92142331c9b5f24e0467150b6d6ef0f101559b2ff3eed4ad1b6fbe5da4f27fa5ec1e1200e928bed66ab04bf62c006d8dec1e439608fcc3490e912a54b9784ba0e67821ab4f8e853a099c14bdffe9be343166c1483fbef1316fb1c659dbe11b20534aac742eb6527bd21c6f5e61c0be28ab2d9f41df4ac5dd0bd709efc3371180409c1d01061acfe297d0dda12fb90579efd211a858cc24d574b70c78844221c50a61bf69335e46b6b0055a40ae697cb84235eb9bab65e6b9d89ef1ce0ebdc7641e4514c702f1d4045db714a78017b3155fe891c6797f2bc0c22b130c4a874a20c40953ab519caccc68e13202fc874ddd1915bda25eac76022473b92498b881ab32ff4176abf77f1f4aca3ef2a36cc68a457e62d2c93b96bb1b893ae55dbcd42b8439d36f0daef3ae6bd69368ac0356692a826265a88a95450bac18c91e6476a3d8b8aa796adf444f84388d1b5aa5a7b83051aa5709a1b39127b16006a0c0deaabaa53ad647ecc2f30281b849e70d648d5a60e8d7613873afb6a016e490bd645c290817036f888a262cbe7148fd1ed58a588758fa82cb10b55f1d3f8b7bb18030ea55044ed1a65836ec04f4e8640abb90b933d9561bee66085325c7877f1c1f3de9975f39eca74710dfe905e024914822d5a57dea0b45266efb3dee665427afb69726c151bcf75a11607a078aeec68cef4157300ad4d9c75553027d1cff30f2d6eac857afa3b04f64a659bf5a65759a5aea1ef69fc529831d993f414182259ed744600f024654885a165a798e0a7773574c7e6a5efa79fc6ff5fbd827ad194fcb655e273cd6bae5eb89ff92d8ca5ca5bb008f162b39ae278c086f4fb5a720a883323ecef6c1daf9e9b10214319eb28a39ab09f12d3661289560f3c4f26770a724875ad8f2bbe44c3fb16eff309c326d4f2703d451afcbaf7453cfb670140f16c718c95afa735b628f94b37bb5319e6b069fad8e680aecc958ce5d2de8b5d2ef751ca97afcdddc1909607d8a937017b6cef60f6bc3a61b529e9c129226b8deb3f9df360f2029117b5e3bb348c32464ae4c28d00f0d4ae48d84d868e569a462a3fe1da3375348b77febb2d79dfdbe15807653f24ecab54365992baae92aa03a3ada1641e7578f9fac6f16a044fdfcfa38a7198ffc01a9b59d661f13dbd245150af3027ef3fb91a270b2c915114136f9b548376a25c7d2214eb763b1c1592b523dfdd7c79de6ee2c54dc06768846e4844a76c8eb00c505b0b8e01b16687fca7d9231c951c8f0404fc9a14f2a48de85c96737f3e40edf78fa71fa2fc981787449f018d423427d7e8602f89b067885f72b356c8c0bec3cffec2e79661e569fcfa8e026001af3f33fe6edda7ef145c1be68241f991d6fa11664ae922bf2f2bbc9420f096efe0bf33a9a1b402bdd3af5f43ce7f65188fa6dae763b6b1faf4981ad5258d48560fff312bb4a22fa495eea4f1ebca3176ce666359cc34b26e3d7d902d04fecfea14facf7cef227ac69842c92896c5eb0627e32617c509a195ba5ffdf6c9455544130299308925e012c848863d4b0c553d02809c2c2f48edf1bafee292a59a6b2099f7fca4f39ebe3bbf089f287d192048731ffdedee5605c5dd7e826af0fb83c5aea4f27f0e0b65999f4322eee78e007cdeb5fdcdc1ef19a60529e1f642229e00b075a80d81c82118c3a93df14295ed6e9ad3f4a1c72f0b6029c84dcbf12396db2ccccfe456db52888f5ab66f9dc7a16675de684b0441d84b3ebb50369a87fe2ddcb45a5ab13574f42af95f2440e5e25ba0db1ee46738664a8b679ba2098bd4c13c956df2dd052a9a4d706d78742804b3093b9ff37e94b0fb090c280dfe378b7bbea019d6b5a4b9d34be4091c479b3db4732e67693bd3f708ca6064d759cf46a5fab4e492c39d6bf8ab507abb981b624c85b3533b1dcb3fa6d3029bc1f01bcf00d90c3aca4ece4fa8838bf650af897d41b528d3880c4f2508d598d4e7de3f968c90665e980af1687ab2ba01f0f37f38bc1be6545b9c5825bbe709ab7cdd0d89f541712a00755cf86775a2fdc498212654059a85084920b48967e027c4953b8cc104b9558e389c6eb72c030db93692deb2552377c8281c6d733bb0048c0e7927e6dadb40c2d1f43b6ebfccbec7b0b91a7aaee74ba4890b46d2e47dfdc552576bb1affbff051f446160cbc9f02616b85b4b48af5d59000c8c597769c4baa16a2c96c78d1dad72d23b292696116244ef68134ccdc55c7bef975882aedb41ec0fbd9022777d8b008506339490dda3810746c39bbcc1a7b1b5221449895b4211cbd103801153eb1a32ac56e0694884cf12fd179aacad274148928198d07518a28b0a682870f0986fe53a1e570f4acfe595c2e66ce00f9e4695c2cd48b5a09016f50dd4dae8ca6940b90cdd61573144725718704fac08a3459b0e9873d49c5e9112ff71c1452d4aae87f9f3652140de3259dc6aae0598a45609d187f923e14a8e1d546b93e2347644783865add6d042f039980f57b4ebf9b15410a55a08d013001c02d28666fe6cbc4048270108fecebb921de52892aeb2c0f5f7630a31ee8cbcef88752d7b00134c028f89956728c5fe7b127387b56b8e3ff9acf2f861d2d0f54eab9a8719ec59934d9463aaa740cbf9b601dc05afa44a3b65f4ddc1a18151e16ad1447b4aa0a6df816753334a45129c544eec3a7165718456e1e481f542f7e32d3c927d0342a4676e027c7422b9ee56f36af2e1a7f1a46ba251de0ae90b5e657781f1405fcca2292c753794193c11e10f8a098b3f5dfb52fd70f9d73858b11a590fa1bb83fea7e2667d3b903d6565ef71e62f087a70f51f989f3920c1519fd2c37d8a9496966a88edbed8d184fd05c790d0f466daa78627b92a13b804b6d3d6a8ecd93116552ed720fb6dea4881ef432a212b874a9377c585c9d04ad113b23057c21d79f53e4d5eb8930e01d0f37fa149527be4b369e1cf347b21fe04bd7defcdda77eafcf66d856dec502ccdacf7ec48934ea5cf226e7cc20d5d2328d531735c2e85347570c649499a9fa8281b094ebfcaf679ffd657a13f10e744fe9c09751259bf4e970299adbdba14676ec4ae9b982e7be208f5b4a69b2fe711ed967e2d05c26f575ccc526364e64add7d3374166c8856baad7eebcd9855b76444fd976352776b96e7f81db3b477a06c44f2668e61fb89f385a859787f35f9c6bb33de6b7475deb82a8cea12b43a55d5755f0ac439c42fa1e2d4dec233d1cd82b06fae2ef7346cd1b815f7fe289a0d13a198ada5acab0442fba097032b3281d2e14f0d346178c985225b3a476e66439dab75286d9147fbccaf733408f6ec4d19698c5384ea214df8733d68a84869db85475813de7609d7386e72d4307b3174b3403027c18b67cbe60a2b72fab361246a2181908a88075ed3e53466eaaad197dbe9a68d5cd3831e39330b7392e93626845a6431ed8346e4dc5376f9b86953130f7e7add56ad24497e6906810ea7d28b55cf85280a80ddcc4e33ffea5089cdcdc1f0757eeb71789da083b106e81dee4a327f924ca9438669964dbc128f067b8993300fd3f0c171087b5a00aade152f06ed155c2b4a61a1e23ac56a8cf709c8145a7a9fcad8194703598f07d9d1dd4f34e7e725808432fcbc751dfec3fd6082cab1f86cbbcbdb0bab18a3af2e82b833917c00ee4e3a013121351f0ad329de03c0dca9c73bdf0e53c58312b1bc82ee142f125d00819360277545d83f6af9858addf7e6bdc6e2599758d53bce1fde60c6be6c1c9c8b89d96f7a26b566b50a6ef83fa13bd2850bda1dda9c34f39a804dd72258744cee1cb37cf1bf62c7709244e9c56cf8cd5311f55d9abc5ed45c701a743af6471ca5dffb9543c69829450330b7dfb7c88c7c65399ca5882e665b31f8ef5c16282b61b5339bf7d0c85facfe934ca196a96c14f75e24ddc12eb184a8f142ae4eb2759030091b64944a9536281c38b6d31ec1a608883ca6eb83c0f4c45b2dbc247d88f17163d4d1ae42d40639a8a11b915a94f1360e959b3a397cf5edbbc1197230ec0d5e4c6733d8e6833f67d7f5bb9a8b4f9af307aee13a2138be7fa4a9aaaa2fba94e46973166c7ce724ea8b108efe97a68931f4f3b7a4eac60c60dcd84a55fdf335bd9bbaf893ba1e7a4348ef41f8bcad80dbc82805efd4b8a1d0ff1f318f9462c13383e6983fdf9ef1ada5ea5e0346e149cf6c190be21aaecdbd28c05d4817410eda6dfea1d42cd6655b004571990c690164b72f5014e4633a2cb5a9c118e71d2b7269fd8cbfe413961b9063b21604781df5290f52d44d956f39eee8664d1482681d13000748248a56e9fe8707a638c0043a3871ade3fb0eaf89c2a9aa26df7a86367d4e2eba7759d02b3645b48f91793c7188fd82785fe2288c927e27b17870bc0283bb5df8bb83c800b78c98e6d44656a6bf03fea4424dccece18cec26036f7b717190a56a99b8421269b525f88e521030204cb85c6dbecb7c6813a68248b701df6605e4488c58caa5a1cea2fe11e62561f05d7feb630015e9cc6269f329ab34dfc712c7238020a3cf0358a9e8e5b72e8b2400ad110afca04cd4b484e49ca756975bfdb99b852b8612cbe817bd093b10b4dc3ab7f925a4854b5373f0f0afd08271ca17caffe7e31cb64dafa47df27cdebe6d1c4a088c976449f8e8e6c193bc5804702bbc6fdef8038189701a001b3329a0e22d8075eebb20cfc43d56e025317d0b159757bf7a6b12282023d00fc9f2da0ba6f9a50e45e9d3a8cf58d98fbe3cfa245763db48373125193d8bc3fc5f9dc096dc8bee83205b876698a9760378519f465038e915b8b7d00c19ef1667321e6404e7d7cd91f33681292e508bcb55ed5d60ca444857d9d430f10b49a4d2845ff2598267820b5e58d49111cf82f367b8676c6580ecb2dfd9719bd5c42ed229a5bd3414e2efffa9bd7839b2c12e5c06e2d2fadeebe63289d35b6b3c3e66ee0ed69b7878816533f93cd79434158a650551a5fb373b28937625d5b644ebfc0ea2f9bbae7d90e43df819d880ac03c8dedb4c7ed20e1622755c89d876fdf9ac5febf86298a6567034be7ac35b2b21042ce3184c0bf0f16b49fe076c30e22ba58188d1ee7171750e0e2050a62491223ee1c7fdbb1eb3d0eb023c8073d3b8d6b3f507c0f5cc46d80a4168620c2e4cbe6d84546cc8a90a69cd988f5b68223739f1ee49fadb4d7547b2345eb749eae54460bf3c5a924a2556850c360db15d3b93122be6fbcb47387ad6026bc49974e5f6906eb93ff89280222e3b72e4dd9bce132d25df915c00122bfdbc83fe0d5612c1282cb739079a0f748f63a3213da6098e269f50f4bae466c76010babed1e1ede8393ead7f986bf439db41e4c36f7ad9c48d18aaf5cdb3cb11324ce9d480ae33a9cb469ad49a12641b757e68a8409cbf6f1cb181397e3cb54be3a54d93e7c236bf8fc826384e76ed70a3200ac01fc70dbe7d11cf127b09974c4f4f430bcdcd3c390e54d14b70c453d6e75bae6d318ff59cd5b2a1e4a5ee5d8db0f1a75ce79795ee88aa4927b51a62add02bf2f5bb2146b03e85e9ab1381d02effed9c54811372b947e75bd67712bfc38f9d86578cdd210d90abac584585cf59e7091a539a75a83f7c12e152d33d922e69a5e512ccbc0742b60133321bbb3496c9f92d80f4c5e257f665e2b1463caa1bd972c6a28914593124a103f4b0e80237d619d8cbb73957fa11d941bd015cdc32fdfc137637ff1f23dd0de4dc0d1a66f2eec1835bc0c90d6ed56b8a0e0b700d590c03b96a77d24c7ac2c1eab69d3dbd47889a2325948c1a3929a9ba38be3cdcc247a3aa0a3ed6c1fec03e3a3a404205542c96e05ed0ab10b8ce5e18cfb4dbf3b8ec4ee0ece6cda91dd2706097ca472c500434a6ac33df1d893b96c95d43c57457da63bd8ba7fc8713a068a77aa33d209ddb39cc1ec2fdf9c36a270c5c093561e3881d85d8de65276cf5494ddb83d3223409e6e8b83b1df9d7afd936d360d3f8b3f3a0c6ef638ceb1eca1bf5f3aed77f15a888a8ec405206339c25e7703993e73a9e3e0818c93f53b0a8a755dff4ef133755324951a8121f7d31e3c1d96ef01c5a62791f69c6c0d797d8a414595d3203b89de6bf6ef47cfa3a01192c033fee3d194b8b1417c11dccd1c2cc4fd7bb977b1f72154460885adc9a0ef7fe7b0b11e9a4c73db432f1a05d1e4959736c264a602738869c5eea8d70ecda76d885eb521b0e7ce1615ba3a25fec21dff0da2e17ff0d81e8b3b77f20fd4fb6051032ce5ea97955f67b1665d33f3bb016280377ef12c4a1e5d4bef5f15a0e098d663ca577b270928a0553bfd2efde083e9707eae2d9245e7cc4fd9e85c9a3a312a966d72204abbd5633d61a1dd23a0b44c9edbdfecc3b2a88e7c61be54eaa2c5f08f0233112e16a16779c019e596abb3b4caa114f985018edbe05333912368081eaedd10365488d07c65c75bf0ce5d7a3f3df4d44d46308023efa2a85b15ca4a848d790c5cebb4e9bbf7da6591ace258e3cd85c703df5f21587704e494dc1517618c1a0312c3a466b13b08455e1ff8f2df06e138c2b019329475c916831407bff7ac1da2bdb42c2c730f12d4e172f3d03a1eb42975ce7e93cf9bc8f9b7b4e186636cd190ef0bfd59ad74be370f5b58bf39a0795981fb8cd1fa580ca07d5ea979d3e580ee3bcf2df89541005b35eeb6b597ca6f8a4f5a7aa89718909b7a60f08c98a4db6d87b794d23de71787ff2a696b104a197277aaebd1a4943c3df95456220836317fff9f43103c1c340c281ef03ed581ae1f777ac3c52fcde311aebddaba684db1ca541888857be6b6973b23f802648ade656a924f29929077f4c802117108bfb9b719d9dc0591564c2ae988e131f9e20ecca74465d0c937e14d1c7492c837841318d2a48f75563b499aca6c389816695a4553d8cf09597af9532911d5728ad496f58f3bee1e6c07147069522a1fdf0436fb534087ebda15196de3497ebf8e9db3ee2f15f12810f0c483175f2be257f71f55c0086e7582db410126c9ceeec787938cdfd5b52be6ef34c19788992bac022f658d67ebf476b4514818ee7000f3d693b74710a79243207b6bf07d2935250041523dd50a0f709eebe10a962530330a9df81f311896de54b60874993b6d07d8de79966564a66f04236ee3a2973ca83236713476813a5d34d4909bfbbe409ae559b228455b5bf9f7c87effb71586fb5b96ec6689d24c15391e6ffdd3a4ce155e3ea98ce52621073da0fa4a5c41f5846ad074ea175d90a310152f8aebf6d2c026f68ed971e1759d65eb9473237ca0bcde4e8a190f39cfe3140e4907f774d47c7457d09ca9dc4a3c1f7cd2a246ef07fd2a9be5a01997983dbd22ad1acecdd048302d5f174a6ed8391fbf510d7cd590baa504ef8512f2a9abfcd52d0e37ce13fcda003f259f3891b3efbce5065ff86727b6b2f06698b2d7a54086c169a48846feb2821de6958332dace8929f526c81a0a84e4c97d13f9731bc71202de0b9ba8fb271084c4a8357925c81a8822bee4586ae454eb08bfd8a82424158b9f97cf96d1861dbfeb8ca86b831569e7bbedac2359fb7af2587aa2f02760f0df957339b5e3f09defd8cc15d2e0bb8520391bd63c64d9e1a45b238c69d5c2073fadbfe2aa530248b8e5b6a4aafa16a72628f4495b2dbd8dd46449f191ab4d35f7a82431c39ac8f2bddb30ee0fb9ed4edb2b07dfa4c56743d7aeb74e2e17a44de1e4d689bc07de9820bc70dd44826b1d1eaab6adff49d7891dce25274e9ad402c0fd2cc97506e53bd82acefadefddd0496d904cf2e777ed6be4ecb9884a46ed608dd365a45dfc1ee594e566a6a8e222e2f6990ea7a811e84a80e2309d770201b614021cca4cf51a7d074bd4ffb4537acfe5a37675877425113a2049db3a851781eb21d195b5ea3ee28cdae37422ec905a0b57cce26b4d5ae5568faada1b13a8271d9efb036417bc30d31cfbf58d486faa96df990e7875b9daee8be0121f485815c6f47ee369b7bae3d6bce9efa2e4d657c526ab936f94fad613fc4e39b666d7406bc62e5a6781aac47cb4fc7acd0b8afdc5799b5684fed5c15cad4a0685561cd57a86713d8e4e8f68542d93583d396c7f92e57f319a60c250c5e5a6bfe3e25cb120182651b26535460c700eee4fe7c8c3f51dabf8efbbc3c88cdb24a8cd7f642995e7bf4b0ae279cdc2152e3396dac670f4861804b1f7ae49917aef4420910c3ff315455c3774e195d4c639b9c7676bd869d876718957bcf2f35e611fc55833e193aea81ff258021b710fa101640bf5c5af90e19e927155d51427b694579011fc97e9625201ace58c6b9270208e22de8ba141813d9fc65994b7fc403572a7cda528ad6370d006eca421bc3df149865c392108749cb7824790fced387f84e538fe3c20222be9148dfe17ef5ddc7603cf2010f7560d684231db8a72326fcb0403e3ef1b3910484ee8d4f1694264deee4dea64fb3aaf82a224aec24175f6944fa7074d7013496a93336b9e6e4b0f3d6e8ac60770c6bc77774bf2626b661f7b80ccc59f09ad1e39745813d8b322b2e137748ef2782c33c057afce0a323ba8b921195c11d9bbc5ca470c1fb31e1eccce61535a58f80fd9862d3b9b86ff2ee527fb40b082c5359a0dec7660be3f884e9788a337e26e22b12fd258a0d2472b991457d29299865f67b9195f7c64ba5ac3d05907eb51d3f9cbb0fc82d4f7cb3ba6bf665d4f950e338b70697f82a981900df7fa2eed96a93f58298ffe8dfa4ae6e878297c7dd18e712e9bd672a5e271f5fd28d07ecae5f1719281a9e67302fcdb8d1db9f1e0896bd7888cdab63418c0d4c3015441b3629feff25b5f4c7168e64b3b4dcb51c4fb561a1f91f12f2b2c6a253c550f593875d1848b7518cd7768ec877bf7a4b6619c8c133e7d52a14870a54f065ea673f66b0c75cff52689f7e9a5f2f64c80ef4a414403a38b16b1813806dac86a70a559c061e8ad1803910c5b5489ac1b57d536f7bcebbb323fada8809e20e5472d0bb3255e50018575d1e5311234f65b91bb62d9c430802c4949654053965ce2c2df9fa39bfe07bea2a06e5e9c719d6c253357b089a6104e46b8729a0acf93f411c5bbaee737808d29378b9e5cc1e45d6d4d50694fc1db07b4df517c36992d22544b95d88e4dce9dc79c03d241ca15600a4fb277a7871496bf42f38a96cf653545381737e9099a7dcdf7ab82868b6fd4b3dafc520c422b17384a52766a34062a90128af853e7da6f787d320e2cd00589fae467693d677201e71c4a0b5b0b386357fe2d1beef9ca21921dbe577c510540c2afe7725d67963717794f8137be6cb12e46d9f9bc9bb3462b40488362681c0a85b01150590da83b129d5a9b7ce917786ef3ce6dff4b701253bd95f7c6c997059cb6a8c2344268cd297a089ff4d577671c737c7dc15fb05d9765be895df99c10462ceca0c7ec7704cd254e1ab591d1e826c33a7c8c4103c838c5a43a67136f99bc7db9eedaf8d88db4b923c0c8e2ea97d91a556c79ca8c87183e2c13b8f9a8934f1694681bebce2d27dea446286949b7037ad8efadd1c1b09d3376c4a2f7a4712d2e7a2ebf64084120798a63789b5e571fe288c4510221e36a97723a8704f09b7a60b6f2f932fcc3c66a1441a9be323d340c11f33dccc3bee04c06d8478fffb7512378714d7187da6b58b6d6dd4b9a81434b2d381cf94022c8df4e44f9b14f7e299d6ab0634506d95ac5a95cdb2e352148fa9eced5f0816ff20ce195ab50dc5295ebeeec810417bcc6a3a0547b441241a1c10e179f756b38669f864a3b182d6d791a434957d11e75b5726ace3ecfe28a01996f27b7c585bf21f9bd5fc69afa5e1964cab84d57957a8b7ae4b3e0d158b7874357ad7ea51700525468fcf490952e0dd966061fd266daa31cb4b4de8d3c524f58b5f505a92d675b1cccfbd83a4c3717ff8499fa3ea2b59c5e5e71854c4a23643175c97687a6a7f21077c0250ad866718a54f547a8049f0a1069e5a645a7ea3c10283dbe7efb0c0cab0f2e126d710fb29e4282498668bcfebcf758136e222af25d038d08b9571962e90ca7a8d2d6f97a33374cb39542db8cb5c69053b99a4947042719bb76d50c1c381befb8ced9f55c8e54e4504ffbca45725e9cda39aee631d50c0f9a8466b24e39f4c4c56d5bb851c9b7a1df470c7634c51c363d434ac3fb2d34e79c3bfe54d2d8bffbf40d5064698f27067bdf5bb6a86dfaf811b99deca37e640155a66bb6e2f30a5524f9080049b0d779ae54ee6563802fe0ef51baa7264e9712a22b2f4140c5affc2bb986f72c1e37a521ddf3fb590c7008e05dcaa3ea63f56895fa6885a78126bef04efabb240c2772ccd6ad4e2a3351883ea6db256cb52d64ae1a94b97362033a89e0df1cd0d5741af2cade922e7ee64a134f4bbde68da16471781e009a1193d3159e597fec6092196b7c04766827e2bab98a95c3e8dd352435f36de4dce010b7ed8a75d0514b1cb1c8f78d01138d608da6c141a48072e1a98f7d8b2fb0aec3523ea4e2ffce9d046c4516b6e8b6ecb48385d9cce90e04519fd67513b659663b38cd433ba70157c60d5a6f1494e438c08ef491fe14df45a335cebe80e1b10d2f1a6a5173814a958a934b0d4adf3dc351e692ead25192b9e74a21e3ef4b003d4b1e2f4d614a41b3a472c17afd6c9074c4b0f5dfb9e039772560e65a43abc6a9ee9f8015f409e6a4002d04b8c4f41761e4edb7b6cd07f9d3e1e193ab7eb624ebc0ebcc8848f694eed6368b02d1d9afd4906ca120bd0c679a000f8674d95c29651bee13f782aba77bc0911c70ae91dd6088a0b6909a0737101e0a5792873cb05342a2a7a5487d784a5dc80a0a7b0e0965f39cbec52c9ebfdf01a700f974cc8e6a880b1382c607272921bb097726a0fe5ba809fe5c26743b8ba22214a21704bd286949d1ea2bba754e0db9e22ea6af20108cf91a3e8f15e90a86f9f20d5cdd1493b11324d6c93ebefff37f356ba8e50483c55f32b8f571f03661a7c9a5dca91cf00dd022b83c2108fa0aa9403768b570b41a876b534e7c44bba68f63795c94638282a06349f42a75fd19c031a2d5c472723928e49f4b6e6dbe067e087605e9e6f599c56983163752ec61f4709494c41f54abaa1221d3a2162ab5fd278040de71119a9bec88735a73d8ca1ff8efa80bf2683cd22fe24cc4e07c9b2b9a17b3150cd47b3a9108d72032a706abc983366f65999c73c1a12ab9e081fa3e573160476fd24c05f2db8a84e1082a4c6677165fd89adcbf6ad95a79760c882e4f8479af8d584341ba5a5e1f6ca5b28dc2525eee49c16c220d2b22fa0211dc2c3b6d8ab237cadceb6522b14918bb09619a0527e8caedd1cc1cc871fb20e0a42709dcb0db0c4b5204638a3e6339fd8702a25e658faaf1b98e2806b9864c1d616e4ab23b2d33b49042db0a8ab879c9edf15672457b8c6bafb923bde50eefce1c51d54bce06505099e14822feaf94cbbc2f20b2f364c83cc8a0bde7fed68044e21b24161d2b100cc5284d8a525a7b2270c91c0b43a6094509dec3533e54d19f41613bd9445d7d2e82b67f683d2bf0555b1d42c31dc19b572bc489e107025368567b595cca6abe68e13b7a816e2d43f9e04ed906f26327dfc29a0910cde493401dbe296a6d1e3fd58b91a207cb2647df73dbb8effc1f5203772af3d60a0bf7a66b4a8450a1f5669e658d1484e8b22f3588df3d7dc1c4e42f1aefb4e8db51912640868a84b8fe0138d47c1c599dd8c418ee5ea45ec7fb83867d3363d4e993f1a9e96fa0f09402decdd297e96660b06f95596957b816c944535bec580fa5af4cda30d742c71482bc581c23d5cc8d8010e9a955fbeb74e0d86eaeb69cc602b76b0331f1c2bb6b67e5a3ac75feef60db3fa95981f48af3ab793ff6fa1d24eff6b3cf62d9bba1bd551e1f74be5823924ef379ea4c57ed94520aa3a89e3524681e91b016c097844be5e586ae1dd0faec40a11bd8e4de251105215990d325af66f6c17596bee99ff62d952c1d496ded304e4804825b00879d4256e57cbecf7f82fe9c60bf6d1579373a8c6e5d7c3bf38680f119f37991423529ac7cae0cde65d74976f307c540d5270f0403e1ec73ee81f8db7c1e7db0c5c140faa36e74ac7a41ac5be9704c528e82ad3f3122e0dd1537225db6630faae65946a64f3dafa6e1e8c6e2cc993ae342e57ecac63cb7b718c1c09e073ee845ec8f7b2ce5a00bf5b9e90d12228ead95b71e685408c2ed35122a428c5d5de3f5c747ed327902273e7841a6d4e68a8104927be4b98067995052b2f9e5560e9a7fe0eb6c27c7c41927e889665f9c30324769bcf3d175f8a95726883a0e085a2ae84873f637565ef30b05a2faefcb143248d2a7a4bc8e7b742a991930702edfbbc4e3ced07b16eebb39b8f9ec72f80a145e8ba21a64d95e1c90153e633edf821fead9ec525394508d634396b74766f932a16572c531c4ac072993e24ec583a280def2bdfa0dcbb76936f63c9d0c563e5b2bc1fa7a0ffd9275293702c0f402cd968dc2ba1d58810b6fd2355e221f7b75395707447a447dc67499435972d367bfc3e7654e41a025af3b4270a4f804485a30f8cef715f346d8de59333a12534bd852ca8d2f5991db495ff98189a8c2570ceedb75ab1e3d64a9e0509409bd2bfe74b6a0903a1795bc7126d9ab38538ae08a38308777f369077f2ce4ef2e53024085ef748515e2ceabc02f26fba9ac82ad0183c02d30d1378c22ff19418da612c8fd58b95ebe7fb3396262e1e053485bba96a6d3761ca528d6ed4d4f029dfe8eade55218e120312b2aa116c4bbaa8abe6d17bd01f0957e2db9bdef7f4b735c28d6f1e49ea467aca5ce689940c011a44a2ca1ecbdf49c6486abfacfd77dc17461f603d49da12f72894ae379d8a68b4a73d226171f06344ef67e7d60892f1b40eb267075c8634152010a6c5c2adeda90caed801431f63c12a5fe98b81185319f8fb1c8284d85ef8c20cf4c9148cd653b4f5c05c6e28bc82f8109273b9764c1d50c84a127f0c0e33b835c193f6aafdf0278fd172d242f324fcb9d9f04843b1a636c69406ffa6fee51d956aa95aa20bda33939df24c2ec3b7f7eb09ee743c4408db7c06d47bfc8bf887d58426fbc9210e55128d881b912d2a83a2d1c5acbe33fa162a6a3550ee4147cf29d550d9966133cd613a1e5604142e3de36979d6765611149da43a3383195e2b2aa026f9227a99ebb6e68ebae67bda436aa01b49c71eabdbb68d3d36da90756228d7f65655f9522e7f8ce884ef5d01988f55ed83c74c7401a15e8e135899efd582432447fc84321bc7870417ade7ddbc3ab0f9a9b0239653c67c00974da4b97adb14307c861117e23cb311b46b1ed1bda96b5deafa8f43ea7e2fb2fee50a0bd77bd2adf9229098f00f091ebc4d8b3a8354a5ee1aeef45d6b6f8b40c74461159538f222196bb601a7cce8f9d25af5ff2c5f530e9421cf008032dc7f5eee0e46900025db3f6022de0feed9d297ea570f206931edf4a02dccb50b8a03e267acc3b0cc92b39ad904b06cd6b36ab47ca8157ebb8aecb3ae30cfba4e1b818a4bc03c226220d01f148a10d99f2acdb6753e2ac05921ce84ccf5995dbb40175b88c44a8455753fb0bd1e97742db3d524d54fef5662fdf65fb9827f65a2ffbe16276be12218fc75dfb85b8527f29858d9d87f1d1e8eaddff9b82bf96105eba646cdc022d52090c7e036efa3b283f6ba2eaa44cca2b46402bf661e1ce9573522372afc257b7e968cb537d1594614d976d57d0d840de8612837fd3327e2db4377cf8041417e4629b59db8b40e31dac10d5d5eed2f698fd7f7852b80a655ded83f7b2757163192beb52d0442e9b58ce64ece12bccb19116835f06f24e453a4f873d44ae9c816b7e2c30634bd8fa14d8203201ecdeef320acb4fccd43c0d537dc15b041bcf2a79e59da8f26507230a842ac6412f583391934d9ae687e3c15743a340addef3619d45897913b6987ba859fb44bf9ddd22f33492999306ad4fa4d76d7210ac80bec98399771c46397b9d4ab8512a0e2c9da9d101bbf99353d7009b79dabf6330e222167af14a5363d6f8c7588e6386fe6c62ae02b48b7b9141b94a34d1f5eaf00614dce96ae2f19718b41b4850874ab45fc3fdddf3c48388f1a3f70ae15855730f8f86d41a294e935673f3ef375edb62b07cfaa44dd8027c8b4261ef1c12f73c45431c368996799f39e06447ace7facaed6078535e6175629d049ac1031c44472cd1a927f27747dc058647a6a4a13b4dace55fa0876139786bcf57d1f4dd9d8a0b7cf5b6b1ed7186423e3bca4ed15688ddb97ed42f9d70dc8012db04a29394b759cb2fd6fc51212f2b15744a1a87e587ea431463bff44b17538470ca075ea68dad06e737476187377da70367ad62a1fab5a7c567552d220179ea2aeb5dce7a98ed9f20c7941435a3015c917224daf2d76dc4476cf732239f1eaa7a58d002ad1007cdb0d935567d168307c61bba2f9863d25b4cc7e0a294f7ef93f272ec0c353b573e5270fd184372773b7127e3f142a3a77636ead03768ae8798d7e477bf65fc43908e149785bb6f12feeaba59698797429029548236ad30e03d638fbdfa7ca02a6e93280f9fa02e17060a0f4a2aaebe3f864aa3fdea6d7981c0aa2fa1c4e09acf72c28cec2f6a2e397f37062713d704958bbb36081a241b52fbd33fd4a8f10064143addfb36830038f9f88306bf91b526d24ac1d56e7a5e887c4fbccc8ea7086d06f6739a2502ca21f60b084f64a7779714e350ef132c65844fa6a3ad603af14851e1a72dfb258cfde2a3c23280bae51fb345b781ada7923efc2132a601509629542353274a041b4998db5cf2fdb40816c99283b6b0081c2f27ac0d2f54ae6c6953265ab47f9e13d8f48d892b26a0d42f628e709793b7354f162838669ec6e7a54a0e073ea2c37775af9b05f4b4fe0c3256f151acfa3086acb2439e046a15fddb9e3b0e4c0c120d51b3f0a1858c769e33a1fb5d5e7c898f4fe1453ab79be2d2f87182dcad9c9e58c9605c43506d4666fee9d32110e6427f7ddc3c4896fc28177c35153e071478d259ffc337a62eb7967da2e5bb41614391da067608dd400fe9f8891cbdee0abe45aa50572a3242b7f4a0d83e5ae5112e17074da6c1a50466cbb2fb2598937d1a3c6f07b548df80156bd1fec562d17b23d1d6e9d98a70cb3d7cf873fe90a33c6878530d754f2e598b62cc2af23d971858ec1e02e1b4dab7f9c7dbb839cfadddc09f073c532ba470625990aa0f2a0c22c00a25fd16a846c9afa348a3cb798bc027b8ede740ccbb07be095afb0e4fa9a824adc487c2a57204f729d5a2473d6457429cebeee4d3c6a608a94c68058a516938b7d75b61cd6024a4f04a2b33afc933781de99f100b24f0c7c1aec5711485b4e8419b361c274c7b0cc8071d569a20fac25bf4226edf21b740ba946a03671a6fbc8f1f858779e7da5d517601883da788af29eb5bea84301f1be7ffd75716778905e9df50371f164fb5e310edc0d2491fdb4495c6acdb78493e788c76b456fff33898977f176d11eac47aec91d203f4380107fbdd1216b460a9929b5ff6a176ab71af542e7f71add503b2d73096bacf75876fe7109f3389ca994317a972f4f7bb251ab08df2371d5f3c1131b397fed2e5d75418460b7174f3ea990d504beb2e5a1b1cf0acd19390bdae559db7b2cd3f67ca924e3303b34830b006344df3b0bbb9f8f2b959d85cde01bffa09b333af4bab8bb44f1355d54a0bd9e52e84e3487e2dbb9222f15f9c9da24d9d44daca5dd17c4aabd0fd4dc8fc259993aaaed422b190315c8ebf6949ba8960ff041f5fb166bba2478a9c38b758de8cdb76ffc15abcc37a0ab0e15dc784fbc7ad8f9f89895e16e5c7036703b694e893eddae2ae37d2d70fa5057e132f716698acbbd8f35e67bd27cb369c7bb5e4f1f51a67b52caf44ae4daac08ea049313234058a2f983e8837523586d2d08bae3e8e98ca5093fa9e85dabbefcb7bc138e4df72b90b5919ad0a2f5854354372afa863ba90f782b816796092a05ed1b29d9195091ee9073773822dbbb78ca9984d2b6b7f71a05d956adef8c38cbbcf470c8acfb2182d846b20010fea69af5713a015540607df0ab9c833c927923a6d0c1f9eb9adb0d2162b2b375e66bbd75fd55bed3f4ebe8f66e85466637fd0e6fb89cb4ca487e0f11fa8c38c5c6f5dce70d71171c5fa7183e607badc7b30a08e0642eb60634e1e620d2ffa2cc7fb94469b80ceeb58780c43a0cfccde5f644b25cdc002c8f3ab67440b2cd9eb758e3dccbf440b7f71bbd1dcfdec6a284ff2d353276e82c06673288fa14b758e490332bba01111cca59ba672f165f31b96f38475919cf0e570388910120276bf0f9eb1d390785e85bc5d1d73480d2347d9c9b7a0b324ebc2c0461f027d35148e39870d6406aeab8e46a1a87a7f16b35e7d91320eacbe916ff6631d5e9de29cbc1eb3d7fc38d51327d946e6435a18ab3cf06e3b293807cf3509b6b722326896c415bdd26a037290b8b486977ca2f92cdbf40710ca8873388ea7a9cf5551b5a567564ec68596e06938f8f49bcef01b0130dfda0089cd1bd433a04b1a7091c7a312de45456b04ddc0a069a1e50b329847b4dde24b0908d66907f2223b5dff977d1529dd44dec730e24722643307721771bc483608b5b89491c8dd492b22c63503965ceef6ae16c0cb376dd01dceb54928a284bd67658a4c156382a41da853853c363d9c795a60fefc6372249597fdda71c0adaa7febb5959d8bffa403e432201c3559d6a2764d6434b43e9e84a52c3d5721103fd8c8e20ea464aea12c975fa9acf4171c9cb48126290b6454b590aeca1f76dbf4a57b17b08995f0e87db5388889565c511d4c2e817fcc518855571b1e24cac6fb8095dd5d5d2cc6a26b5a67ee8e932a39f726fec20cb71d357629e5582235af7c72a92c1b753a2eda12be63ac317a46f0d9a61612595b6788b6b793c31ce238bd829c35695017d424e3617826d7f32d74341dcc9c323d100fe7c91af3bbf54cd5f3e169a218308645997424061ba4d02100639f2487d9d4145ac424b14db1b2ed1de0563f2c198defa3dbd6626eb69fa4d3ff9273d042d42765ac5cd320064152dc1cf17db5526bf8f0f2ae5b28c70d749687d4d478ed9283ca3637f0bb044ad51021ec8e77df3e775c298cfbff59af8d2fa6d9cdc95b89acbcba67bf6da34253a2583b4eaa96c049a76a375ab9796cd35224d8fa3ff0974e2c56a7332fb996b21bdbf9a9ddfed0c6237a97cb78e2147f7acf1119d6b83ec9ff4c2cfca68132df640fe3575ce397544dad2461eb2c9717690b1acdc333fd20d6c91d692fa32e155a7486000a92b6f8c8c342255f8959e556b0d959f719357caddb5aec186d63a56e29e960bf18748603175d90c7abd26b883b6a8f680283c3f16f4a9b2ab90077b960f9591830fd2a044163bd838341cf9acddda40c54451d49b1c1fb315cdf0d9d9b97e36989ccc3f0a93a8b9120112694b22de099bfd9561e271285c7f3d029fa9682535b42be6d649a582734da780c2db9d36551f6cf5ccf5139dc44da05731b9e56835f8b09035fec955e73bab3784a5d691129f7cea7ab365a315d0f771da1097598a008d72f734ab57acfb71fdd3ad666319e0e7398d2844286f3771aaf058f9930fe2c1494a702baa521602f51f55e5ac896cc53f546443f161235f764513f935ceaa0382a285e594f1765f7596a47c26f6995bc4e39b61f5f9967a794c0cf48d00f1c8e347fe3d362fc26342bd75f0c2f6314ec4fd1211998b33251892c08ff3bc66baeda164cc5456caa47d29d9701b1ac303764771700a084861546afd8b9c4f073687cae385f8066c9629246bd03db11233377ed3f25b4824a89e1ae3607b0a5a5ec0e3855d6db2472286c95ffacb5b2872021a56e675d4d3bb8df016d84bd272307f7ef02ba5af021417b94b08964b3f5d41d35dccf6a5c16366c0424b85c99a34d6e8b77a80c97f44aa50b36897cbbbb659b22365ea0a8174f800622550f8d623750d2b1476a262d762893bb506f61708a5783d3d135497a7d618e762bb65720501a5170e99fa3379c2803074133ac36d3a9ac6402326a99138d3ebb4e60b0b7f46b8cadc2981754cdaea61505fe0dacbf3a79d3f42bef938ffb39269e7aed9d13665331ec0a35954fad1b9df0c09214c04d297f21d5f524fb7ac8836cf32e377f5b0e0cd324eb7b3daecc6b19a262df82fc8d0ce4a4962795d76719546c3efb6a18fd1a7c0f0ad08f2ce18911b580a01256a5105b6d39b829bcdd16258c061f0593f7728d8b94678452d45dea4b7acea419bebe65290754badf67276513688e16c729bca33af96a1c225332950a37471cba1fad47bb5bea78f68e9ec49b82ef77dd831acb491232d2ec55a02100937ae511da5f1a706379d0a26fa0f147dba282b3a84b652ab818a9e984b1b3913861ac5b1533f8a21c013e580ab88339eb2204f97e752663928ebc3a37c5c60b2bd74e5f728a36d56fbed88b2d9059adcb2feb7e","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"33b8c1677146fce8efe3ad063ed8a447"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
