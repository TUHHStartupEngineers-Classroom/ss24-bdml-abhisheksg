<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #006a81;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #006a81;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #00C1D4;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"23234ca706e9f3059aa6b911ce15ba09b797dcc2af0ba75a856d8766562441047ecf35dc8c0d93746cfe2046c0e804f4b36deb94062e2c288011b79d697b8199b89c153128c15c3e74f7a901706c1194c23dab5f171f05d1a39b8a06cd62a1156806b8dce1fdb778f409f801dc9a14db644e1bd133f35668944d8f77e3667e6382f496437734ed6836c5e47c4e67fafb3df82ce0a6d471c76555950370c440cf349ff594076ab2485f1e4030885a033e20327477558e7b2aa1cd6de20923a43e7190c455aa1bc1c47aad07adfabf7bcb4a572fa93fe3b9a93c3d30343fccea00156d829a84d07ccc600b638b19ca0a05ab9e83332c3531266a820507338b46e5f3438ebf1ee85a1463b64f1ddee1e4a572bc3a3a9545b1c85571e46c1afb530ef19dfeae26c399354f957d8a4ac85287a059dda01ea04ced59b9e213d7b0899d91bbf62f9c19f3a137817f25cb15ed670449d9c7740203117e1d7410965df17a89291481fb201901a3e0ccf0b77b6ede3aa40650a8e218cf4dd1cee179d9bae3ed0e5690ff59b4e6659765b83edd5a3cc2b1493a0c6f8d7d51c9a8914d16a83501bb1882e939d83f51b9a2f8c2e2498ed1fe94c1fc5d3bf7a3eaaf707d1015fc45112e5985358b3420803f8f41468665c61e1f3a69179f2729d6e8e38077a5e6c5e23ea71db285043d3b19e9e3bb29175cde194232eb3eb1a48bffb1b0cc78840893601dfeb2a4e4a9c76b7a4e95304a920cb05ac9d19deaeaf662dffbe36ba90ca55a9121d48886c6551b6a43565e6257829739fdd810d2f7bab6fca7936a220e5a494eead92e5826741e22238360e6a9fd295999878ec4d4a5f5165cf40d5518b5eb4cf4371c1d5f043d34c615152e35d53044f1be138d530144adda767bb06f189d777897118645b17248f433604b0a1f02a07a81cd9f6a52661a07f054850d9f86608ad5b401b50bbad079b2a63e620cddf09e9aa6d506553d57b0988c29964286021fa2c97474c15ffb3985b73765a6e8781f436615b79ead57a9b79faf6c67c941d47fd5cb1299d6e0f55651fb6e7c0870ae0bcbba0281ef1eaaeda1d9f6a01b92bcd2a8bbf216f036e35da8577281d08d67104d2284af7b2d2c4be96f33a841eb10a6c3780b40510bbcb251b9bc12a492b8023559f1983ad8d9d1c6b825736782ceb78a92c329c2f9756a71a4e5dbb235c26132ddff042fb340987096f59b0f58d4dcf726e824c2feda9121b6524ac72626d8c20e9c42a5b8128bde855fc1e9f667e27fba1a7119a382a059c10bd9454751236b36f2654efd30146203b69cd414920f1e2a163a88865da956253f6d3268eb65292d4384e57398c6504ba2f24acdd58a00d9442d8286fe28645d300d2d2ac1e2c0734438a4d9fa19453d205aafb79dafb201a835fb531fb8faa208d4bf0a073b3a60cba9a331d7f1669663c063197b979eb53b234e902918d1f34d3f003a121f451086ac4ae24b6309ad3aefd1dfc88ab7ec00e53129c691957c7f11c720e7e91b3c95fc842247c372858022ab7de7ddd09988d8be188ef0808506cd388a580c7aa8b85989323e06670bc672aac0b373b73f38bb10adacacd434b17472d899f637d1b1006ec79a2cad330ef602051d5f617a1cccb3c7df4f78238e449d8bdf88c069640d0d2b237cd502437dc0581ab198753c57705aebfa0cbec6bf9fe00b1e3dc8c948722936fc114b7e1d0076ba9a20ca40677ab82273ff3ce088b44cb3997d0d1e1acbf0dfffbe70bfc0fd053a8b7a40d9c9c42c456418e4f324fd40dbde2c48a17cc637f7c3759accafb9bd2db12596cebe1b7381e1002a6c967c13cbdb8a84260518d0aa588bd402df202a0df17e6a7ecb41b6b6cf377ab56d1efa8815839e798cbbdc5a1289565f86384329ca8638796c422d8666750a7a4c691cd37b02869f4327239dcfeb3d4f1a55d66ec2822ee4d33798aad72e53934ee756e1e201d75bba8bd3d5812c42dcaa5571a2930fe71da0f5425124bd3733e22f22fb6d42e2d50adf4aec8798d1fe9cd4e538a52c6e68d782c56dc34119de845e4cbc5414b167b9cc8c821f7340e53e5e07ea32a7d5a941b4b6d4bca6f9d42e45ad40a0b768b4cfb55850a98ad7f26f49bed617ed5d066c44a5050161bd5b0cf2ab82f7ced4d6370698ff140574b77178dca256b6854017dc304c60de7d7296099ece87ba47cc2d33eb059b17f3507efacbd64166b2273c8f144f3629665227ce3d428b367b219d66fad45cbe28cb059874aa62fa8385791d0f12a768820734e631134ce5c80c621d8b7761d098ca917247da862cfc266dda754cf663b67483a99983b3b7e96a90cc87eae2f473bedb75ab477ae3ba497d8e3609a6013c2cdc56fa910a651ddf143781a40ccc1d74164ff410be837cd5b8b19d60554fb85ae1498783d25e63562f81761abb8731c95fb534e4c819ef087edae018b1bca50bb82d67c1f9dd273759390571c424bfe82fc7e7978856873112f5f6e5fa59813fb3bb8d9e42f20f3ab4820b8b2f2fa7d000d83bc1025228cf015ab925d8e63eb1e7cf2dfacf34c06963db1665cf5b17a7adb557618da6801210ef377b31f4ddca56edaf2acf7f538959636b4f16af23f4de935d92bea026973729850566a9c95e70ca6dc02690703e2812140db7628ce1a2a444b2cce70301161b62680cc2dffa74bfc14519bf4ac400c87ed85fad7681896c5f5b488447d81cfa472168bac7317d1361056645cfb6307f87b01573cc0ca8e1276fc3d6193009afa7469bab6c94836ce78aa2c121992b7bb6fb1b62ce5558331f3cd24ce0ab7b982bc7f96c2c04d6a3aaf5237d1455ee4d7735115e290d18434989b71a04d5bf2299c23e6930c9f6910cf5c31995e120f563ed89fcb18f9ed1b6e99424a38f9a5c313b88947616781c25d0605c49b740220c670834d2e63ed5f1e383255ef15d923da03d6f33ce4663944d3f96bdcdfd110119cf3bd664866b26b5d56bb3b527f86bc54a5d90927ae53272dcc0a62407b26e7e3531eab30b4d82f43c7ffeaf3878f497f78033b8cfd9d87cc9ae57399f1333eee2d20c05468676b1ad26d54fd58435c9fb8032ce9ac0dc61b938f2ca15ef1be4967d0d04a00068cca736cc70625487f5f36a92d60e7a50ac49f9eee80532b6631e5edfc72e7fe667e88471f7ced2d231384dd8562d4d62efac12311d5df4a01ab5e74028ecd7090adaa992a495e9022cdcafa904665724b86c209c31c4cf6c233554c6622b777310be82cf38f4ba0b8c66097155fd8af86671a35cc02574d3bc90c04c37325878c35c758cca631b3121d795f98b4d5f03024be53aced8eca1a050951346681d4350fc135f327c1aca31b1768c262d6e6b3662aa9c5f64d13875d1ae4bd1f9194402fc3f8d5f6e9893e243c25f8f00e51e1f68c20ab271dbab88f8f3e4d158c23c3c15c3af8f9ba8baeb873e43bd757b2f984de9de659ec447822a796b2481043651512723ae159bec717b96157d74130b19d5db8fe69e3d4ddd6a0b32da650434faa93479690899741700e8380e651e76fbce2d0d0f7daff164dc0eb1724b5cf57ccb4115cb1b87acbd6e121597f8c22c581c631f3abd6cd975b4f010a2ed12291634fa85ddcd0e7140f0862a941c8632312616585d2a525aa0927a1fe1a95761e4701b18e58678702d03f89500c212526259622ad4ab0e597a7cc41906de1173a28503ed1198b27949c96ed4aca762d003c6a7acf981f0d82878f5ee2a4597fc5bb02d7375aaee0f8de6f9bb946910f9e448a3cb79812a526d56a3a50e76b70a9a8742639dd16be71b0f950a917733df4a09d26d0362c9fc0e436c1e387dbd85da19e4c97d1764cdb70e2a50e5802946be7cc432175327abf195223492708dae253573035c4f7fa860f4a1e42010cc6443b4698f24b71360f53c9607c20530481dddd779a29302f0d6e4f3f6d4d57e930a0d7c9d8f8e5ffac1110b03a9c60e2e5921e3efd83ccd6e737cc932ccf389df1904c0d231c4c1a95a2b5cb6dec6d956b1052b7ecf5fee069f50af3ce029163bb0c02bf5daabac908ff2192e9ed7e793f0f80b034f7c706f732062f7d66e4bfc9e712a1cd9f4f3a508507b6836abb118173b51670eed04716de34d29ddaa7b6e76de6a9881655a2b8aa2d709b131a3694d39fea6dab6b5fdc3736f57f7aa657a73636aa03b7b8dcd1cf6878a56d0d1776e299a85e3b84055324354ba47ee707a877f7b5b33f2113e8c7a7e5b921a931de283109f8332463b3dc2102faa95616ba481f707671505a5e6acf1c94281d59bb91cb6823d4366a57c20915054721fd5921e118af29e6622d81ad9d87eeeac6173de917dfcfe637692cf75b283828258b2d179c4d9a1d7afaf9f338c5c3bfbef9c0fd03515b348d3896c0405a362b0acd23af7d6d7a3afabbd0cd504be753b180269ad8c5d776717a7ac3c548aeb1c99a1b2a5f372415dc0db49cae46b920b1fcda3d42de2af4da5e91dd1ecf4bec5e246773d9faf978bdb02c98aa0c27d82cf629cd75195919abe54de1247e8a9dd7675e90b1082b46ee494db831701f95b81e8ec1921f440b872fda7cd14427f3f58edc49830c03b53ce2ba5582684bfbd4201dca85cc1d657ea2e9868f04566df007b251d0d6871d67c0863d1cd03a99853e60a07047c6f28a2b946558b540d574912eb9ff20e54d17e6b87fc2061c7d5062f23f3e09e44e285988852596b291226dae86dbe1ba2028b2e2b02380754a604942bdf3b30a5a334e9c4740e6db2f6954c52fa3fea0449c7217b49af2fc00c537a674a0c260b2458b914a234a01b143d9336b8cefca544c8234627f6d75e275a5d12e2085437d27761b08f04ed3766335f4eb20dfdb89bbd56c012fb7b0da97ed5e47e4be7f2af165b3740ccf11a76ae960b9899be8e0c5c4ac16760f40db6ced539d13b02db6b4cf822b2c301f7bdb332fa89a70a37716d2fa903f1549bcb243d9eeb40e3e1f29e418b941c2cc02876f7cc5b17092c950a6d882217a5331e1649083547128258d8502f5191cc839a95d9abfe46f3e5521ede96eecf74eca9b3065293b8a7254cb6be489408c9e3e2f85db3fc048397460a2b7040d51e9d62b850e4790be14947db62e1005f55116ce7fd482772229c29dad4f41d983fcff5c20a962612e14344a9a72da1bc197531c80ab551edd145f0d0a8cd594d540de8639a77419aa1b542d7901abc216dce105842dea4013f8aac302785919c64285749f5b5b996f2e2ff2afad3b1d80f8f5f2e1c1e117e25a7816ebc55a16e369b6c33aca972846ba96f69cd4883d50b74f3a9a8a412a88c0db187bf9026078812786528503be04581ab97cdf494ba1d2522fc2407ff4558bc734346369376bc6bd439363899cefb384bf0527de9b6686800560f0772498432c1cb416e37358d10ec12624acabcf2b2956b5bde7589f26356a1acfcce6204416c4096e1a5409b8ec57254d0e4dd8decf9dcc72e49aa95d5cb41977a2187c9f76ad572cc7e2d04759ce777e59caf7ffa9d1faa5090c77a7856cc6c32d480beb8626e60efadd47d4eb80c2e57f941d3f192432b0a3ec78098eb6aa9b6d183ed2c4ed2be34e94a6ea3b8b5182af22c412a1795dbb62d6a57ac11ccb4f16771f496b965df13354f8cac155977922d62157103b4e67afc11ac6a54389b6f8442c407ddf0799eeac5b798783b24dc9686543ffb4d84ccff9a6b8481a51bd07eca91d9e64c445f2ed381bbffa638d6913cb65580ee7feeecd2fb7adedf65b6a8e320e17c66c6d848ed524021493989ed4ce4fac54fe932bc57e7aaea6fce1fa0a34ae523c6f1be3ed9b334c3f8c8aaff144614ac0debc3d5c7e73b34437e00a87a810ff5395c53208a5642c105595db3226fd5f61bf917a9b95e79d407f20662df5d44c077bca99814961b5122006c0653563e3687da62bc5ac0462077b4555db08aedd5b974562809b9aa381f4998c4289b1cdea6ace2763de3bcf82f4857f9dbee2c8e1c226a3c71cefa97c6201f42aed0a99869c5e7304b956039a846293f66d13635167be5f2d3d9b51e4e805cd6a78c8716c244688de615097223acbb76ec2783bc47623755788eb7994632755f530db6756e800f2ca2037374a903ef0c75006ccf2fb089a23fa8878ee3e8c662de849a4b28ee9a029154a8c6122711c4acfa302e2c7d3047d8c52ed07be4acb696b17c9dca6d0f154c4b0285facbca7da67f178543e9b93fc6256e3315ccbcb4de1b8686a515f79da716dab669407116f0888447b1bbe4b3970def57d2aa1da09f3f79069d1ce01ee43a83a8a24b04a2a786496e12ef85b6e1126a885e6263f4678d30e4befc414521e033465fb6967412854c98fe4c2a33dffee9e6c4e6423cb9324ea923369a904db61915e07ff614af93e28f7150b49606c91b0f77819866ed66f1ee16c87077267aa606cc505377cc6695b2f189176f142895e837e0e0d0a0f506fd69b5769d8136623e4345afae41c45e0aa25a05c2987f3496c54a0de435e2c73108f9a7555e1349bf36fd90aa8da4f72f98b541c9d66450ff6f3d8ddae2309c75ff5da7e55a1978e8bdd366cb2ee737601ee2e8778f36917ec34590f57c8e15ac59f6437f8250c23110e90718a4b0d92c4066749a9b0274fc1cb990b7b5b975295fbcfd56f286f3dc3fb4deeff0b6eee258bc5e74645b8d3d6b7f37b504c17b9ff2e462f9e7509160eeec78dc2698bbdbd642045778eb8e550e9f4222f8d773fe6e3e1a56eda4f93b427dbb1b9b4b5755ce087301dcba090e656ed1e4da5196acd5b835fc0c6d0a47c899638b0009f75b66aa15be0b5629850bda384d59c72ab5ca3623b2898636dbaab738444aba8bb437b4b03a1f72047c47824deee92f7c8c768f85496e8f4e74ac7dab1a0d857c04fa66c3f01d5af8a01a1d28a3ae040ef41db0d4acfe293c44efb2207e87a00359b69a6893a932c31b888d06d5281f8d4fe92ac5321a11d166967206f589cdcbd134a8319b64680b265f69da0221e56de0c0abf27743256efe1af24cda91a3dc290471bf40198c82115abdd03f01b731b8aea2f7a5fe5bf6c0b7787afba11d117f2deb59a52437dd0fb9fb4f7625d9048457f604ccbc10b41f14dbeeacda349c0d830d6519c770d4e9ca0ccd68cca5341dd1c1ae60574e55d7f942cceea354840f4405f914daa705585427727755490f3aad89cbe445732d6527914725ac33dc0399e2caabddd8bea5924e4ab46e7a0b8cb87e45322dddcd1a459a959d16a68d9aca031d7594f85e56611daee40286e19bc8b66b315a2f62744c4627154619dc5c25bd93414062640576ecbd7d67c86b1fcfc7f4b7f762c670394df6ef7d36657081db73b459c57400b067c73bac05cd9fa0e54b458794024fda526f200006a24278d47f5aad3f93859a1c75911f346fcc4375fe33f84c3242ed9d491bc5b3b77ef2aef9ec04f02cc9c05791a6b1cdbf56d808aef2fd9fe1583179c4d079b377578cb0b322ee596a0fbe327fbd5e4a589dd44574fac5d49c66f64a960c10a0eb3c08382fdab02b806df055846694464e761435039fa6b60edd6b66b4a2976f7423ee3751865e9ac07365d7b69eecd9581f2ef96fee673a6b53cc726a852dda32940c9bdc515d2eb375a282d682af33e28975c22d77cb8e2f65823a7dc19a12a3f1fd6b15867bbb15289a00ef94a78328531bc8a121b09fb3f6cb5acbccb67085350adffa845c1b6d0c302b3042a3c128eba64ab497dbcc469026586a5ed8b40733e1f4a44d6f551dc2e968d559202a64b2d1256490bb5a6ff3e41399c73a4246b822126ae75855848ad4acca5bcfd244bde5c3e5e9452e622f25fa6004e4c4d47ebd1e32d9af94c54d1be674d686075bfa02e905197292483864f8d1d7697503c607f3f72a96fc6c264067109de2f5eaf024ade40bcdafed3fa38461bfbf334ee508b272f0b494c60914262d051d7539d9a04dcdec20c3465b8d2926c2b65cda3b12cd833a0878403af4d2a38aa32b28667a44504ca18e82bab6aa26765d0d4450d1780920a6cd0c1c1ae927c7462604c4a6928a5e637b4e95f767d6df70033331532ba438d9ac78b21a2a0c2c3111a4de1e519e68747f8306d7d53e4e126c883f600cf9b28a632f44d8929c38158c70ca62930c4326332db3f19224308a7785e59e29c996da35ef1d314f8e6a2fafff4dd4ca619e810ee4ad5cef58a9529e70d44d2bfdecd857e6004df857b9d9f1d32aa36ca64ef18933508af0cd7dc8c4624e8406ec05eb56c373e2247e2ac7d539ac72fd0a9956b18aecf2843ef2a9e055a1b1bf88517ac39f358db56ce0b9d43d96fa2ac8107f5ae690e4741f7a3758e8af3ab57b58d2c204cf9749a2f321773ccdbfc4ccc8def83beba2a43c7bd7ada887d115bd64e63a8958805b1fa1e322b12d1e64fa63afa644d06d3bb54022d9ed5ff35e0e3df9672f7a60a54ab25adad545007d0d34ca9bbe18dc6b13278f1ba7ae2e14475fcdec9b5b38f521f97757f024b1a80e9ea6e1d8c869cce7ce057ac3cd00b5f945b24718588e393eea8901251fc65a4e9a099e07bfeea46da02080925daaa310fd15dde0667501531551aa0ac86e9ffd1049227dd920415473a3acd21cfc6d16474298b46444dbdc3faa559af6b6a58237d24bc80645df2bfd54af7031a899560cb2734ba9a76e50a4441180ec7a1a64e5a1a82e0fd9e573e11a58dd3f13fbcdc333459a5249207b3947bbf9dfa9b45e37004259ca142c2509893e26233d7ad5756d6fae9d1a9422dae7d3ad0faedefc72a218b0b720a8be566ed8f22c0b743902eeebc54db021611e3c8b69e9b8100269a86d785bd80f5d28830d585630febc192ccae51ef65fcf8396d68d61c5a0b40f479fbc824c5231bf47457ca38b7631f69ad0032d72c7761e51348b3fe78dd2b2536e74c69755d95f488a5efcbfe07e6597a20207b9ed65c72cb5d88f6a67c7c949c4c0e3f3c9fab8aa3aa19581350387cadc715fb808e55784d8e29b3d30ddf4701218c5b9b2e74731b4b186b8c06cf41f43cbd55901109fdf39558630d18f884b7e43c6690261a6389de1fb3453560511da5c684fec69b214dbd547800c336c25dde2e7f553500ed8ca8d6b37dc0ab005205061092f13198ef8e2d15506452a68574cd3dcc4d3cb1afaf4d37147d8510122d61ed5e129059d99f0b237df28193c1e3428e2724530e419e4750f5bda82f7e1dc9237166da6bdaccec358167b8e2f7a5ea0a1db9dcca56bc22787846464e5b7e81f8b168dd2b9afa3d74d152ac079a9c43a3c57db1ab19d67d9b1b1c4e79bc82ffd27dad22065ed5335dd343521164f92e8ed9237c53a93b74177c0a7188e011688b4fc0311308139f93659bca22cc91b6eccfac14df2c5a02f7f32258e22e45f252060c86055bf7411cd6e024c524fa332f416de18ae60a1652517a254185126e02bdb455f9d0d320cbf8475bfcb756f432fe82e76465a2da810f4473da4726c8003ac02a3e5cf254aa55c3ef32c70c90edcbab7718725d601dc9a3ea2b9f50e44a0e66d9c4ac1d78d95137fb41197f61afce95e671bee30152c5d6856619c52874931000c2807b1b30c697e25cefc6f2b9e03bfe38bf2a8da9257279a2e3ab0a63abdc36ecf1d8263e312d4b176483e40f7f4100ce6ae58c73257bc5855af24ed9e030463d1d65c4e41c6aed3dc5cd0d2096ff645a154076bbb0687037ac76734f090a886f86c77786e9722e0288df612499b59bef14d778aa96383bc3bc74d519d3ffb26bcd7f6a5f308f5ef8ab590756a1c512339f70cb6be3cc570755191423899b9296224b6aec27ebcbe04c4e0d43630a1eeea3377d90af23f59696c1a8aeb51b59e048668abd3504a3862cb2fe2a940bf2a04f6c4e28e96c4b2af5ae256f9d7414e90487ccec88f82cc623de5d695fc13f28be409bc79178a45d10fe58c5f3cd70999ac1b9357b3c21c6a0a12e445e5d8a7430dfd285a8dcf6935fc79f0ef1a085a273266526b1ba9fd1cfd792694d009dec9ad7c27154ba110e947cdf17ee807fdd775ab99906d78a2e1302094ec493f35e3de28161f624647122b7e0724aabb8f99068ebb4c41f27791a175e93d030c68ab102113ca53e6c2e1371526adf72f330c3b969b53b2f50e1624876c129e5357ef75f76aeaa8d104d913ddcda2ea5c5cb2ba72db53cfc2f977c0498eb69e76a8ddd067e8f0ea87eb630e953c3ef1527ddbc3beb718f19b82cb17a1f4b271981bc7654e30985fb9ff67838b3073f0a504875dda380a19ec22f0ebe250f224c4298c1a76234cfd3c84d5d845c12d111b8bcf035aa6f96618ce31f5ecbf33e3a018cb97393d1eb04f3f8b35affa0cf365819cf0852f3713f3aa24adfec7824f1562f5e007de035d60be2efda670231ea666865c88f0e3895e7895f44b146cea6d8bb46b282b2286aa55e7b236446b7f45c13a09ae1685ed03a692a912a41d5060faa2e2254f73952b72ef718a5f389d2f0c26947a0c5637d320e9bd5527634bea9d75a4714800b1982819f306cb16706bf831249ab4aa209f1a6e835204c547fbcba9492725ed57c5548e9116cf3483c7a022dcea4b044e22e1309e60c76ed0dd5a2f8ddcccf13a554d5aae1a83c4eda96a9321c2b08fe45ff9995cadbcec5279b2d9a2fa60f097fdc828a1b7a24c723494c5a93adc90094fd5968f459bcc103e609eb7d93724bb6a9e061bd295728cf9a93e5b23a6c077f98184d87f9fe1b6aa72e20aa6b125f235b194dfa7490503e8307829a70d0e769fff08182e5beffa3c4fb764853dbae12164bedc01e146d9375beaf1761d942a5b03caf5229812fea05cce2472b966315dad3ca865a0c13627b845038e68912350ac68322e6a084de008c9f9396c72a38b0ebd982b93e58dfcb3f67dfa7db8e81c8d4db4e0a4ceea391f1cc9c7a87bbf4289f39821aec65fd42b7e4413cfc997b1aba691cc9064fc56285188938be7ac87eb96590a35e0fda87d2ed8f2decb21ad101b773774884b6e544c097b4df3f5de1f299f0e348e65bcd31687066bd1a5a4f135e657565481cc4764c8d4bbc73eab6aea426d7668d62a46bb2b20f7c47b2c3c04e0681dc35669baf5f2db2a6ebea1b491ce6c476cd79afbb13af4cc555d5bb43042412c460eb1790a9c0914c1c0221ed69bb3e638ffac7f207b38fc616b75a41b67886c01bac46d3b4d1a162dadf50458d94875ed94ad270a94595a206eb8ff12bb1119c796949b78f2c3ffe3d38d38556f81073c670f8aa2650371a3b1cf851b2231db3adfa70f35868f1cdb69fc62849abfee0fdefef8ce6eca2d65f87c17bcd29c1aebe7fe4130080a0d994fe0fba98f6abb8d49367712099fa7d3cc7c40e650df6ce7f56f22442b6e6e7c8c9cd977ce0125d0cfa368f1ef6bd6085003b92ea554f049291e459c072b0e04ad3b91f53944d7c8061adf3ccad0818bad2e8b79b929a94518507e66a0fbc6b1d19c9596a51946e493ddd35f6500a4d10755e1dafee69c3c07e45cc90cb7d37c4ec48d50522fb7d7d3ce574ad7613f31c30587e9f853ed706979a7ada4f22d1524163c6a5900f5ece391beb8c82d76614fec8ce8c534b3c720851eb5d8a0814cd61f7fff2737f1b27227191c50a2d44194750f17348f9ce12b3ee104b0a7ed05e7e1b9ea49b87d209a41bd938b04dca24dbecb2ed56b84699cb4d55ac6da05fad407e6f2d4d9ea71e3387964f7d93c7a549e53f7288308670866cbaa972dafb6586fc275d956eea07bd86a6fdc4c293f6edcbb1c1fcc3fb0e38abbb0dfe19da000a3a1b1a39330583fd74294ab563ab44406e07f0876eadd8515bccb33e91c66e30d2d67db23c8614351959b290c5a3bfd55639399e2bd0f3a449b1c7c73fe57d5f3339a2fdae43e9f0bde0f6e2d8bad5e539cebf76e3d747e996323fb47701c7158a439d2c0a8b4ddbf246f036bd56b7c110307c4323a864419797a93480ee7e481ec2106cf4290861d92c16d273c670e5f6ab6bbab76eb179d1674a9a4a4d859a395e2901c64a49352cbba0607baf3f3935b3b4b6a4432de2b57a148ca3e46e386d8b04b290abbe0d52310a3f1ee0a33ed81693c94c1e9a3d693ad95cafd0937c94be78790dba733668e248f5ee3fcbad0471baf18f56a0bcd831b86ca3b0d09176d1cb3059fde6e90ed4b27bdab3bf16699c955b9829ce67500990233b5ddb36a4ccf668b74f48ae5661f6f9a1dabb542b02513a2d933b989389a82e0a45a2a6a0b32ff281ba49a922ae650fd6222819270e136c8cffb6c3e41551adb86623d3ec1f5e43313287a398e0a4bc6adbc2d3d8bc9c67b7bcd566da23944904434e8aaf50531c50825e62cda302bbf63025970e9db0c82483b4b91810d6adf7251b8038ae454403987d6518df4dc5f0283705f4cb42283355ab33b742239b4c56d03192952e53c9995ef5d221d86b4135e5b7f06d7089c41cd3ae58de465f2c7d6063ad1ddb0449d56de9233cc3be2ec8c96905dbc44d60ac8f934e26e44d191975d4c7e5f132999b3e55410dd07eeb4e730a482cc15633fc117af8dfc0f0d7a161ed6fb35099de5273923d42ca765b3468d76897f7bdc000c68d60e1cb67420ed5ea91313839f96f1b2dfc04de6ffa7a4d9dc4cc60c038ea864bd19a870e8412f140af871e155e03fce491627b450c4fa03931f17b65b6e048b5906a61a181acc16eaf809cce4b71b9d68b57f583ebd4f7e5c3cef6a490932a4ac5ebcf7c9badc8d63d42d1bb56c7bdbc612e34236e7f44e0f6a2759069dfd6665af73c8c0223d7cc9a372fdfa4e3e88020a03445dd532550e5921732be6b422b8434c66d5a7c322a592f872dec22ebcf716b55e0dfae45457c793fc26552de3186d715e88fe7cce1a7d0afc2aaf7c308046a85a6d1785a97ce2dd5b40d63381e9d9fa2c0544a9b2b639a7d438120480ec3e0f5c659a1ac29ea113d2e8f03ad49cb0fda713408c6ac177b0b3b7821634f07bc0f3671845b208dc3bef57873820f428b03b094eeb2b9b060dc6676d13a7289562cc9e1c1f33b8b24de8128eecd43aa2a85f5c9f1c89f4573d0a7ef1d54280a471655abeab364b6785b549b923db6a7f036784aade0d4d0213041a026198228a561f44a16f5a6bb8bb59504edd4296e82b63535ef43a341c34d470fdbaab1ee55f1e7b869c0394843e320c564796febf4669ec38c1bb7d44184feb5b173e73ae550a6a953f6ae11fa2e14ae5c85a4a1c6b9c473502dd12d6af9fb9579c4f8d197e22fdb5da560f90551cc7f89e39086e1cd1e34ff0d9f22f8c5446e788906224bd22358509bd4ca4ae912b64b52ca56ba1ac889e1769c8b608b4863138b7664a7644dedc48278dc00e6946b95e2d525b01163b579338557317474b10196f3a9f2852b237d9942c5f465d7782d86aa529543d3ae5c2f4515bba05315fa7a9cad61bfd6da9b7a057e05dcdb8e1c8447c01c3bcf241084b1de7d27474518142572d74411c836589a9690b8a64119100df3ae242878daadb5374a68e8944d09bd65314ad8c348f2db9ad976be6aaa09d10e1c6975620edabb2e1b6dcf4453469daf9f154c19c1d972438d2fe47cc013e5b79d4b7e837ad3140805c6ef159a60b163caa43d84ce7a2c143c34dc72e04966df933c88ac53bc95527778ae0e01f66fcdf0ba9c4a51bd36b0e585d9dcfa674b292e317f5e1af04e80ae6ddc1e660dd027f0e41b930fa93d3cd85ae850043c9452297f52a51a34a15003df74297bff3fe964a561b4e6bf8e375739ffd85ded0dca6ec96702aaad7a69c67921132e7d775dd98f78492fd457ae6a53ee6af544054453e7cdd8ec692fc49c67ace4ac22fc60bce679b591332317c69e598e23bf65bfab3e99acb94f244a7de29e3d68b733beb662cfb2a9b47c5136ea175fe1c8ab8df690a0cb3c5b08de3c8b21217a88578739dfb44e76065cf3b87b7efeb56117266fb8c3c9e885d440c55edcfb7b536afa159a2107440c4c45062b98021681cab9f3d959e46fdcac389426ea6fa7af19dacc92f8b7924d3e8fbfdd0783e472de2e44138902363abae9fb4d786bc09b87e1ce2bf0ec96c71184ad8a2f2c7dd6eda4dc8eec0623ac9f5c9991d1d45546ad66a2967e87b47bf96419b48f22779f402ebd70ec18c7ebd8f8288b3b33cceaf68493e1002524dd6798eb2d19540419f0a10e21b0e44985ee3d1629e314f9aa23bfeed09d085b70b7ed65f1175861787f2450ef4707c96701ed90a001ed29d05434ded465ce6c5a2cd514c4169bcde06337ffe862f67c76141421de881eb8614e5557703596034f2064da87eaa21afb3585857a1108bb02f9a845aa65a6eaeb8923b1bfbea92e96f6e3651b023e6a46aef2d0b49cbaebae08a0f886f09da5398ce525fb1bbb156afbd257f888fe7d263422056c44d44ab649db4c83c019312a23bf07c93db4d112d69cbd5cc703cfc4323912538cce965df6214ed64a03e521c90fd60e7bab773760960fea4c6ba998de1252c07c067f26365d106fc011d2d7fcd0f1d8ecda6d0165c0358d928f3b989f52bee85b9936a754a398d4edb7f9ebfaffadc570235406e2b8cbc484d527053e19c19a6fb2d6e255ae8b130252b237c43628c616b2e2d75bc66160ea1d10188d64f9f72eb44f87284c6760a4d125308e9e7cbaea127b356bac769918bb0958e82ef9cacad100f2695e52f8052dc0c79f59c858d72e4a524b8b48e2a8d176724d5f6b6282825582debf313028eb43c4f8b28cd85437f7c6700988b8b418ab42024a9c0fc98ccd6bbc43ca5709d58f809576966e213911297967555bdd9207ef255baf4e627cbca2a5bbc06d0aa42c5e38afc93d7b8a0f6c56a905a0cc45f390c5b729cc99bb3ea8f45ef7e80eeef617668f7d4c7ddacd7d433f5aa533158690ce589b8370d0e7444f978f096c3d5ff820174d139204faf3fdf14814fbd7355b43f0ef41ec69899d0b176fd5ac5d3a874597f53238a8ea9e0b2aa10e7470e0c21066189402c597cea4db39fcdc37732fafb6944f4ebf4f74fd71742c334d1f6c0890b19fd343731700ef2e2d82bff00b1fe52504bbcbd2df13c17f37b322a592105c2c4cb87936197d53e39b272e3cb592a5fe6cd252b40efef8171e0c29880d0a036178065da57cb4968dd95e5073a0836924a55537b58379ba32e92c2ae83799d8ef735a40ec78d9f048c22f5206e15b63c32c72e9a12f368234458614f6418dfba77aabc6b195a825e6db8baf51a7b475731a15136e99426fd1c347edb1e4cc9bfbd3e1f062ac3e2b15275fc0ae89aa5545ebdf08db04ab5a71150badc2108123bc80109537f398a91037c19f32d54df8fbc1bc0a3246a1e67832abd988463858156271562593e70d131a51217eba2e67cf7719a94527c18027d3cc5e94eb0e4c80cbd24499bf4c732370e06e45c1976cd2c93274428af06c8abaca0c3467d810eb7f703a7c5bd39bff6657a46dc2348aa946a299af079b4335ac9a0cf4aa15b3b06948d25453e352f370b2acdc00a2cdcadc5f3ae7e4b8d9a25f11b5058b0f416b1a7e032e3ea632ad1c2810078733bde17dfd567d551a32b0d33c91afe559c60d05816294fa97848fc9ffad2414c9fd60c96dc6aa970bf3f2289a0959bea2e712eb3066d1a80f0888862a0bdad4bf7d4c8a00c2c5153df3563815e7a1c40d3e8094b21db799a1b287b23678cad3644843d3ee4589765272c5e87da131ac8dd6dcff7982fcaf4f2bfc09ae348a8e2d2fe1bcb5c80b31cb869e09da7f0439218e51f3608926edd87697581f97c50c3f8b079f1ea5699887f744c7f0c7aa2459c0f0d1f14b912dacec340e740cc443567ba83c74ab588e22b642105827baab6da83fd98682136ab07e44fd2f30ee1e65048b9a71d9d4d9c5152501d2d3c6146d00ca53f0b27f55490a42ada2e5e3d4a49bebd7aa8442f5136f86ca95dca46f42554f34a36409df32293580e2481d765ed88bca8fdf5d1aa919680c8b6621f6d5b53a7aeb2984c552023e11ed4dd84fc8c6fdcc61d33f6c23042a020c73e35e419d82abf49be92b77937ec2133d9e85a52bcf1cc07191e3d0c3bb89ae2aa8e07ce1036237983b4681a7ad0f3f5fe676c9525a012a9bcc3d45be4bfe5670df632bb8fa2c156789ddc076d81cf64e09fa2a0e424f23e7b5b06662946b73b5a5156c3154539de5fee2373886ed17f3d2f1deb839b422644e75e181b84f43ce41b85fff2ed255330b0149e86d215398637f556d1c21862633c4c295fcc4c8d75812cf59d10348780bf0597e52dfa72183a4f7c990de4fa1dbbbae118c615f0e8687a35546804f2def344b306b777a750c8f41db7c27c7bc3fb4bb22873fbde4c3bbd8f31772ccc4620ebf06ab88c1ea24289e07b05feaccb50f8d73364e4a8ab9ef47c9335e1f7357669772aa2fc2a51a9854fb93689238e0c60781608ba00991288f10b7b8afe2b3e6c7edd9d5f8814b1c212d20b2b43fd9dea4f9240712a5461f1d1d102cc775b037b65fe40cca7376c13e844087a8ef5e55c41ab06f55b414df702110e17d6b9f569f9782022e0d6a247da6f95bfded5105eb6dcbe0f3c8682309205fc17928d7330e7391162d102e29615be83b4e4a016924a67cabb2c102e5ea3bbda7a33a4345f198d87d19770f2d386e6a12e0bc36b40be3cd0fcaef45e8350e576feab58f57b3477e15e860d3745fd76e81949fd53f40f4d0068db9ef860d92261b308ec57f0cfff9cdb773abd149a01a026fe741788087709934f7e38ff9cd4ec732279d85f2b1fa5d1fe3ad9cbe515af07a67a53b497791e0577a4742ad0fa82a0f459c91e3bc8ae2583c62614e472e297a9d1f3398a9e6e0aa994ba2f77f50d0b77cf12b479b46d9c9f72e21ffc9100c0c44c6137223c80a74a0175e2bb98723de02c312dbe027b5676816222f267dcfe44b28df80c28c3b6ea320c21f205fb54fe6b35d952b39d981549cd3d60864bd236bd6b77624e6470f29fe663e80ccbfdd2ab7ad52a45efbe802777c05242d5df19c16a49853360d041b8f923bfc133dd024251be9323e6c152d22a18fc79ac85bc38098132a89f1bbc321dd7796d75f80278cbd9c782ae9f3d6588c1f5b5ca7ae637a748d0355d27b168fc0ed9f87f397540602c669d038931b39bcfa385bb92451388402f9491fd1c8884af13f3abacc24bd0c256bde0a65678d9ae75ceefbdf59ded005dcb4b479779be427b1ef1f1d7f31a315cc5a5f9e8cf3e92b89627ce5b5833f52bb4e8ad7ff4496c7e9aeb8dabcfd2521d90712b21964052c88a55877ab3efe61c92b5634c0f479c0602285ee2d155da76271bc878513614805a337ff9e43a7f16cb3a9f79c517beae5022d18efcf247e33ed6f7b9e8f81886c177d4646a80bd6d37f80926e26e4fcdaa94b7b68349d28cb97d7f2d2c5f043cc9bb13c681231d1b08cc7ee5b120f81e5e587e60728493903e46f2b87236e4ff5d995f4dbfc78c7a316103a74d84b4c35689172b53ebf8f76079b0ff2e4fe9c80047f5871da96e7dd378939af34d3b5a916b94a43e9b23ddf74b2d69175138d2f54692cd96d5bc2f41142b9bbcddcf4acb3b2ed28eaf7e33cff71eadde1b6ac3f13054f2717fbd369993bb999ebbdda64db1d7c8222bc50bc0919305ad6db04e92359c01d9d19cc2ea7f365b0bee2e8bab0c3405f18b4876d5f3c77b2f5e7850a78aaccd75fcdd1dcb7501524e1d7c233b0c7cfd3228fddaafedb29e3b33ddbd2f3a564b55d7376414f63d87bc27990e0b45921b2900c637f6023792c81cc427402bb0f4cb804a4892dc89dab0b67d8f22b9c4a88ae4cb754da95da29fb4e6ff6746d941d2464aa3ef6353d8218116153ed44ce74a95303b173d7a22302f36d16e2c6d19a101b0d7132b9a386afe9eed78dfddf6faff43a6d2a3a22656c5a06aa5181883e9333536585aaf142ff24d527b0d424543928c740602b7a08a4b0d754ae4c9d67882ba5b88ae1456e613b52e3baf15a897a0d23ec8540962b1fa4198ca6b049fdcdecfe0baebf47e98df3836b37eb6ced69334801cc7252720528d256de95d1941dbbf95bd70162c48a325b32245add5472154daccb00b27f330bb45d76a959a945684571d8a741fc446f30623fcf7f66ad863d7495937e2f8ba8554f06d9dc830e4c5558657005f367abfcf5291b41b5628e8f753216b30d279f15ef0e6b1221758d0ee49fc4947d7624bbdaf95d4e4419d100d52a08be0d6cd17a012c4a0ceec098761732fcf4d51b290c7c33b924097b7a0b02259c75d4b2d0e04971232d20c9eabdd9ee6789ce962c620e4f410b16f2de6e880f59ba9ae487656b80ce981b1cdcc3528290c4113a4cc1d36ce27c7da02d33d231eb3cc6e7beb3276c95d31ba7b5967eca57f9592cfcf28119905c7563aed308ba3251fe8601f1b0774392bc4d665a89bbcb21ae0b13d2442731393c2d1baa9d7f8d58fb31461fb52f2a5c9807c3477e877dda5f914f0f3ef1d3ee310ce3fdf5f18653d962c3d183ffb64d1da77492b677da920ba2c37aeae024620e668c7c09ff861770a185622035fb295b1ee3c5c7fc2d3d5156d960ea506501b1257c8e16af5aa9e97ebbea1717bcca9bd9496ce8666795205233166e7af056c06290db471270427bb1e1839986d60db1f49d07c517d902f92d615485310a3a7c3b48de5ac5e15215dcf4012fb7538f40c778963e195272999f3efdf94af1be3a8565992d05093f7814c34bd4bf1a82b5d7dee20e0b8b9ead33680a69954a0a454b002a9415dcd8dd751ebc76f52ba4e5bbfb73520d3ce31de79882ff8500a49af325583576ace7ad21d06e946f3dbe1b3928ed9178917fd6e544570f4d379103e1174b32c9a75675e9b359b49749713c220e466022a1da5405480d17263b354a724d3d89c87829bcc3ae3c0d5d98bfc2f574209f89f644eebcfddace19703b34f78fd48b2839d3357c7d714ab0895bb2fbe31652b9db9869e5f35cdd5eb36da630abbdf1fe65973321a78bc3cdf984cf57f325a823f364d010a11843122bd290feba560a7ccf8a6b64aa2b1c59d6d71a5764a56d3d0ba8297de3bcb9cc3b7ec2c6e0a33a62db3b3d5e2b61dfdf31655f55199c29c5fbd0fd7ca5c9d4f93b1166ce871aacabd8e13501bdc6a6ba44084491f01e4b7df68b897b881c1cdd47ccab6de36415b9d37fab8f9c511e16fbda8f763bb87c85675320cbe834e32a888f73e6001a04a11b9ed8612fd0dbb1712d987c19ed87630e5a18e3888157cc8d555d134d5bd561a13f6135180f34e1e24a82951c674ae28f7ebb5375efa36dd1c3a612f027e0931f18d88b8a1da9a6b7b4140931bf7a1d5e89cb2427b45094f2077eb9adefd986c912895602437a9d4a2473e9b0af738e32274ec3c64f098fc55c8fbe3539009718413dd5c9dc384dcbb95b3139e41911eecfe5ed2cd148cea20b971c94165928f831e3b3c06506229ec775c61935e83ca0e43bce1a425f48091c0133896488de0983e5c5e3c0774311d583a78c59f8178a340173b391f256d3c9ded52310e7a24c0a2ea5aaae8b9571bfd9722b3b6be425b053b46d9aed040f9f7a9ee585a2459d90110104ea49159bf5efcd5d8570e32754cf9bf5cc6dc55dd3fc03b7f54c424ce29b88e0b397a4b5765996a3a1dba0506a7e4a6b1dfeaa8d60b42c29ea2f1a6d9b94304f2d035f06b6b3f9560939fdad3c75855b235a3a6ae7d516208fd7101e47541a4cb23c998f6c957df95ac926f076cef3f7de3b81fb794d779509f233e5465d1ece39c4663515ad79d5387fba1b39cece5bf7e6807ae3bca06414ff75eab1a7608b81a7ccbb901d64b62baff99b7a8db6633dce8643fde7af8dacb589146115f26f8815b6d0a3be18238b7cc86f667555c4e4909b4613f5526a97f96032113e736834c09ae062debad4ab39b4665d4a44cb914aa67fc440148a87553fcacf14737a73af63cee35478b2ad808a07929afdcc85bda56facfabc5838061799b573a7eacad91f7210fe7fe7351e3e655761e3a27d37105fab609e765efa5c035923f05edfe183521d38b19c09191b4bf481f24d0041a6ae90bdcca03e06955fccc106569006b4f559ae1e951875a259b3eaddb234814efee0ace3f6081b6afece2ae6babcfa2b4b7edfdecfacfc8aee33ff10f5a60dc67c482c08ca3f201021d6b3e01786ca8cea626379554ff72a840aadea5084e17bf092ccc0500c5023261d7b70a641d3100c6f40fb7dea80a288b2b66738a4a76fe474fd9e979d4e25b5ba3f385d81616d96909f512507b463abf629007dd385dd3352af6efbbdbde1b1025bbf7d3ce694892e4bffa516e13209fb70b65c847ed3176360291c38e15e6bd229889f95b3448c551b169aea8774ec0bce2d1430af350258e8f4e25bd0fd7557e8cb776c787b9d32a477112b60b0aaaa2412909337df5a7f7e4549a099a07ba22e8fc6141fc377aff34b30450a207d3a736a5eac9ad4e42ba81deafafa407556b34b63003a660c3ef3cf9233d773cd97fb7d7fc20964c7f59e1f3d7a2c4f0d48b3d25f6b115b5aa8e8f117a97693b7248d01b0f2881a419bfcea91367a6b3edb1e7bd3a32d790dd4890a654cf4302843fee9e94685ba27c6c5378ad01e128503d0afd9b6017032485f3c815bcee5c3343cf8eae1d1b9ab3e426e6214d9c7498577c672e07f5328e30faef67eb24235f9933364fca0b7efb7d001135be1849ef28620a1ac38e546b404534d56f3e87e000469deb67806de640093c1e4de760cd08cf68ee2f07b17ac6b780fd2775f5dd030693fc5b67c12839eddc0cedc66d3e334518b53efaab0bf98049650f581d4d88ff96350847b17ed5113c06a8426bb80354956f208d9d9c24c55ddd21ed3f94fa49ffc4a9328ffe5db4b33f037bfb8adcb0083f7ed6ae3d32dcf039d8b4f7ddf210956ea048f4373c6bc53057a3660b5d805aaef4df659d71a586a0cb2e1dbf59e3435b3bd306cb7914e91a4c72a020d72d9602625dd4b603fd2deeae494976aa55ac1006977f5ccf4bd2a3cedb2995d6da4f1ce9fe44300503bd0297c2c50b1e8f57d715759dd526d08b4a070c43d7da186c6b49b31ce10687a8f9c1b7bac3f89d2036fb22adb32077e34082333b6bece4da5642058e77e5773b9369b9af51da85716736fe53fc9d3c8e6af6528083c2533516c7ef8eb94b1bff7ef7e3d03242281b3506358ecb19a1e90e2f1533d13e3e6bd875407681d2328242aa54af885effe1f8b4c49ea657d279ade4895a6e405e9c80dd44401f25bd001f44fdbbeaa3f9a4444780d2bcd08844bfbce6316bb46d3656fcb51f34461e430378dacf1d972bdfa15294dab47f3907924371d809a415b85e28b02f83f7358119f66efd27db0bd1cee720f34c25a06aac151ed316b5a4db50c6e704c1553ec3b7434d6fe950b31d84c33b75926ea85cb7739737","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"28a0f1462a7d6ac2c34d4bc870ef06cc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
